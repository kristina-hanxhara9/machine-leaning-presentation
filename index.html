<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predicting Atmospheric Emissions in London - ML Analysis</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
        }

        .presentation-container {
            position: relative;
            width: 100vw;
            height: 100vh;
        }

        .slide {
            position: absolute;
            width: 100%;
            height: 100%;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
        }

        .slide.active {
            opacity: 1;
            transform: translateX(0);
            z-index: 2;
        }

        .slide.prev {
            transform: translateX(-100%);
        }

        .slide-content {
            max-width: 1500px;
            width: 100%;
            height: 90vh;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            animation: slideIn 0.8s ease-out;
            overflow-y: auto;
        }

        .slide-content::-webkit-scrollbar {
            width: 8px;
        }

        .slide-content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .slide-content::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .slide h1 {
            font-size: 2.4rem;
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 700;
            background: linear-gradient(135deg, #3498db, #9b59b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .slide h2 {
            font-size: 1.9rem;
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .slide h3 {
            font-size: 1.4rem;
            color: #34495e;
            margin-bottom: 12px;
        }

        .slide p {
            font-size: 1rem;
            color: #666;
            margin-bottom: 12px;
            line-height: 1.5;
            text-align: left;
        }

        .authors {
            font-size: 1.1rem;
            color: #7f8c8d;
            margin-top: 20px;
            font-weight: 500;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 15px 0;
            width: 100%;
        }

        .metric-card {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px 15px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(116, 185, 255, 0.4);
            transition: transform 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-5px) scale(1.02);
        }

        .metric-value {
            font-size: 1.9rem;
            font-weight: bold;
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .metric-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .chart-container {
            background: white;
            border-radius: 15px;
            padding: 15px;
            margin: 12px 0;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            position: relative;
            height: 280px;
            width: 100%;
        }

        .chart-container.large {
            height: 320px;
        }

        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin: 15px 0;
            width: 100%;
        }

        .insight-card {
            background: linear-gradient(135deg, #fd79a8, #e84393);
            color: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(253, 121, 168, 0.4);
            transition: transform 0.3s ease;
        }

        .insight-card:hover {
            transform: translateY(-3px);
        }

        .insight-card h4 {
            font-size: 1.1rem;
            margin-bottom: 12px;
            font-weight: 600;
        }

        .insight-card p {
            opacity: 0.95;
            line-height: 1.4;
            font-size: 0.95rem;
            text-align: left;
        }

        .cluster-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin: 15px 0;
            width: 100%;
        }

        .cluster-card {
            padding: 20px 15px;
            border-radius: 15px;
            text-align: center;
            color: white;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
        }

        .cluster-card:hover {
            transform: translateY(-5px) scale(1.02);
        }

        .cluster-high {
            background: linear-gradient(135deg, #e17055, #d63031);
        }

        .cluster-medium {
            background: linear-gradient(135deg, #fdcb6e, #e17055);
        }

        .cluster-low {
            background: linear-gradient(135deg, #00b894, #00a085);
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 12px 0;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            font-size: 0.85rem;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        .comparison-table th {
            background: linear-gradient(135deg, #2d3436, #636e72);
            color: white;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .comparison-table tr:hover {
            background: #f8f9fa;
        }

        .highlight {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            padding: 3px 8px;
            border-radius: 6px;
            font-weight: bold;
        }

        .feature-table {
            width: 100%;
            border-collapse: collapse;
            margin: 12px 0;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            font-size: 0.8rem;
        }

        .feature-table th,
        .feature-table td {
            padding: 8px;
            text-align: center;
            border-bottom: 1px solid #eee;
        }

        .feature-table th {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            font-weight: 600;
        }

        .feature-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .data-sources-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin: 20px 0;
            width: 100%;
        }

        .source-card {
            background: linear-gradient(135deg, #a29bfe, #6c5ce7);
            color: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(162, 155, 254, 0.5);
            transition: transform 0.3s ease;
            min-height: 180px;
        }

        .source-card:hover {
            transform: translateY(-8px) scale(1.02);
        }

        .source-card h4 {
            font-size: 1.3rem;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .source-card p {
            opacity: 0.95;
            line-height: 1.5;
            font-size: 1rem;
            text-align: left;
        }

        .preprocessing-flow {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 25px 0;
            flex-wrap: wrap;
            gap: 20px;
        }

        .process-step {
            background: linear-gradient(135deg, #55a3ff, #003d82);
            color: white;
            padding: 25px 20px;
            border-radius: 20px;
            text-align: center;
            min-width: 220px;
            box-shadow: 0 12px 30px rgba(85, 163, 255, 0.4);
            transition: transform 0.3s ease;
        }

        .process-step:hover {
            transform: translateY(-5px) scale(1.05);
        }

        .process-step h4 {
            font-size: 1.2rem;
            margin-bottom: 12px;
            font-weight: 700;
        }

        .process-step p {
            font-size: 0.95rem;
            opacity: 0.95;
            text-align: center;
            line-height: 1.4;
        }

        /* Navigation Controls */
        .nav-controls {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .nav-btn {
            background: rgba(52, 152, 219, 0.9);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            box-shadow: 0 6px 20px rgba(52, 152, 219, 0.3);
            transition: all 0.4s ease;
            backdrop-filter: blur(10px);
        }

        .nav-btn:hover {
            background: rgba(52, 152, 219, 1);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(52, 152, 219, 0.4);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .slide-indicators {
            display: flex;
            gap: 8px;
        }

        .indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .indicator.active {
            background: #3498db;
            transform: scale(1.2);
        }

        .slide-number {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: 600;
            z-index: 1000;
            font-size: 0.9rem;
        }

        /* Title slide specific styles */
        .title-slide .slide-content {
            background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(240,248,255,0.95));
            justify-content: center;
        }

        .subtitle {
            font-size: 1.4rem;
            color: #7f8c8d;
            margin: 15px 0;
            font-weight: 500;
        }

        .university {
            font-size: 1.2rem;
            color: #34495e;
            font-weight: 600;
            margin: 20px 0 15px 0;
        }

        .data-summary {
            background: linear-gradient(135deg, #a29bfe, #6c5ce7);
            color: white;
            padding: 15px;
            border-radius: 15px;
            margin: 12px 0;
            text-align: center;
        }

        .data-summary h4 {
            font-size: 1.2rem;
            margin-bottom: 8px;
        }

        .data-summary p {
            font-size: 0.95rem;
            opacity: 0.95;
        }

        .references-list {
            text-align: left;
            font-size: 0.75rem;
            line-height: 1.3;
            color: #555;
            height: 65vh;
            overflow-y: auto;
            columns: 2;
            column-gap: 30px;
        }

        .references-list p {
            margin-bottom: 10px;
            text-align: left;
            break-inside: avoid;
        }

        /* Result Color Coding */
        .result-excellent {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            padding: 4px 10px;
            border-radius: 8px;
            font-weight: bold;
        }

        .result-good {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 4px 10px;
            border-radius: 8px;
            font-weight: bold;
        }

        .result-moderate {
            background: linear-gradient(135deg, #fdcb6e, #e17055);
            color: white;
            padding: 4px 10px;
            border-radius: 8px;
            font-weight: bold;
        }

        .result-poor {
            background: linear-gradient(135deg, #e17055, #d63031);
            color: white;
            padding: 4px 10px;
            border-radius: 8px;
            font-weight: bold;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .slide-content {
                padding: 20px;
            }

            .slide h1 {
                font-size: 2rem;
            }

            .slide h2 {
                font-size: 1.6rem;
            }

            .metric-value {
                font-size: 1.8rem;
            }

            .chart-container {
                height: 250px;
            }

            .nav-btn {
                padding: 10px 15px;
                font-size: 0.8rem;
            }

            .data-sources-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .source-card {
                padding: 20px;
                min-height: 150px;
            }

            .process-step {
                min-width: 180px;
                padding: 20px 15px;
            }

            .process-step h4 {
                font-size: 1rem;
            }

            .process-step p {
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <div class="presentation-container">
        <!-- Slide Number Indicator -->
        <div class="slide-number">
            <span id="current-slide">1</span> / <span id="total-slides">16</span>
        </div>

        <!-- Slide 1: Title -->
        <div class="slide active title-slide">
            <div class="slide-content">
                <div style="text-align: center; margin-bottom: 30px;">
                    <div style="font-size: 3rem; margin-bottom: 10px;">🏙️📊</div>
                    <h1 style="font-size: 2.8rem; margin-bottom: 20px;">Predicting Atmospheric Emissions in London </h1>
                    <p class="subtitle" style="font-size: 1.6rem;">A Machine Learning Approach Using the LAEI 2019 Dataset</p>
                </div>
                
                <div style="background: linear-gradient(135deg, #74b9ff, #0984e3); color: white; padding: 25px; border-radius: 20px; margin: 30px 0; box-shadow: 0 15px 35px rgba(116, 185, 255, 0.4);">
                    <p class="university" style="color: white; font-size: 1.4rem; margin: 0;">🎓 University of Liverpool | CSCK503 Machine Learning in Practice</p>
                </div>

                <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px; backdrop-filter: blur(10px); margin: 25px 0;">
                    <div class="authors" style="font-size: 1.2rem; color: #2c3e50;">
                        <strong>Research Team:</strong><br>
                        👥 Dashrath Bhati • Jonathan Kingston • Joseph Magnussen<br>
                        Kristina Hanxhara • Rafael Almeida • Thomas Mortimer
                    </div>
                </div>

                <div style="display: flex; justify-content: space-around; margin-top: 30px; flex-wrap: wrap; gap: 20px;">
                    <div style="background: linear-gradient(135deg, #fd79a8, #e84393); color: white; padding: 15px 25px; border-radius: 15px; text-align: center; min-width: 150px;">
                        <div style="font-size: 1.5rem; font-weight: bold;">143,976</div>
                        <div style="font-size: 0.9rem; opacity: 0.9;">Observations</div>
                    </div>
                    <div style="background: linear-gradient(135deg, #a29bfe, #6c5ce7); color: white; padding: 15px 25px; border-radius: 15px; text-align: center; min-width: 150px;">
                        <div style="font-size: 1.5rem; font-weight: bold;">3</div>
                        <div style="font-size: 0.9rem; opacity: 0.9;">ML Models</div>
                    </div>
                    <div style="background: linear-gradient(135deg, #00b894, #00a085); color: white; padding: 15px 25px; border-radius: 15px; text-align: center; min-width: 150px;">
                        <div style="font-size: 1.5rem; font-weight: bold;">99.99%</div>
                        <div style="font-size: 0.9rem; opacity: 0.9;">Ridge Accuracy</div>
                    </div>
                </div>

                <p style="margin-top: 30px; font-size: 1.2rem; color: #34495e; font-weight: 600;">August 2025</p>
            </div>
        </div>

        <!-- Slide 2: Chapter 1 - Introduction -->
        <div class="slide">
            <div class="slide-content">
                <h2>📖 Chapter 1: Introduction</h2>
                
                <div class="insights-grid">
                    <div class="insight-card">
                        <h4>🏢 Project Commission</h4>
                        <p>Athana Data Science Services (ADSS) was commissioned by the UK Department of Environment to develop ML models predicting emissions using national monitoring data.</p>
                    </div>
                    <div class="insight-card">
                        <h4>🎯 Research Focus</h4>
                        <p>Group A focuses on modelling with the 2019 London Atmospheric Emissions Inventory (LAEI) dataset for comprehensive emission prediction analysis.</p>
                    </div>
                </div>

                <h3 style="font-size: 1.6rem; color: #2c3e50; margin: 25px 0 20px 0; text-align: center;">🔬 Research Methodology Framework</h3>
                <div class="preprocessing-flow">
                    <div class="process-step">
                        <h4>📊 Algorithm Selection</h4>
                        <p>Selecting & Justifying ML Algorithms</p>
                    </div>
                    <div class="process-step">
                        <h4>💡 Insight Extraction</h4>
                        <p>Extracting Predictive Insights from Emissions Data</p>
                    </div>
                    <div class="process-step">
                        <h4>🐍 Implementation</h4>
                        <p>Implementing Models Using Python</p>
                    </div>
                    <div class="process-step">
                        <h4>📈 Evaluation</h4>
                        <p>Evaluate Model Performance Using Metrics</p>
                    </div>
                    <div class="process-step">
                        <h4>📋 Communication</h4>
                        <p>Communicate Findings & Forecasts</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 3: Chapter 2 - Data Exploration Overview -->
        <div class="slide">
            <div class="slide-content">
                <h2>📊 Chapter 2: Data Exploration & Preprocessing</h2>
                
                <div class="data-summary">
                    <h4>🗃️ LAEI 2019 Dataset Overview</h4>
                    <p>Reports annual emissions (NOx, NO₂, PM₁₀, PM₂.₅, CO₂, SO₂, CH₄, VOCs) across London by source type. Includes traffic metrics (VKM, AADT), vehicle-specific emission splits, and pollutant concentrations at 20m resolution.</p>
                </div>

                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value">143,976</div>
                        <div class="metric-label">Total Observations</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">79,388</div>
                        <div class="metric-label">Road Segments</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">All M25</div>
                        <div class="metric-label">London Coverage</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">20m</div>
                        <div class="metric-label">Geographical Resolution</div>
                    </div>
                </div>

                <div class="insights-grid">
                    <div class="insight-card">
                        <h4>🌍 Geographical Coverage</h4>
                        <p>All London boroughs within the M25, with emissions mapped at 1km grid and concentrations at 20m resolution. Borough summaries and dashboards aid policy analysis.</p>
                    </div>
                    <div class="insight-card">
                        <h4>⚠️ Key Data Challenges</h4>
                        <p>Missing data mainly in concentrations from sensor gaps. Files (CSV, Excel, GIS) have inconsistent columns, and multi-source fields need parsing or aggregation.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 4: Data Sources & Summaries -->
        <div class="slide">
            <div class="slide-content">
                <h2>🗂️ Data Sources & Analysis Summaries</h2>
                
                <div class="data-sources-grid">
                    <div class="source-card">
                        <h4>🛣️ Major Roads Link Emissions</h4>
                        <p>Link-level emissions (NOx, PM₁₀, PM₂.₅, CO₂) by vehicle type for major London roads across 2019, 2025, and 2030. Enables Linear Regression and Random Forest analysis for identifying top emission hotspots.</p>
                    </div>
                    <div class="source-card">
                        <h4>🗺️ Concentration Maps (20m)</h4>
                        <p>Five CSV files providing 20m-resolution estimates of NO₂, NOx, PM₁₀, and PM₂.₅ concentrations across Greater London. Support pollution mapping, exposure analysis, and geographical machine learning applications.</p>
                    </div>
                    <div class="source-card">
                        <h4>🚦 Traffic Flow & Speed Data</h4>
                        <p>Maps traffic flow and speed on major London roads using TOIDs, with vehicle-specific metrics. Enables clustering, regression, and dimensionality reduction for traffic-emission modeling.</p>
                    </div>
                </div>

                <p style="font-size: 1rem; color: #666; margin-top: 20px; text-align: center;">
                    <strong>Combined Analysis:</strong> These datasets enable comprehensive machine learning approaches including regression, clustering, classification, and geographical-temporal modeling with PCA for dimensionality reduction.
                </p>
            </div>
        </div>

        <!-- Slide 5: Preprocessing Pipeline -->
        <div class="slide">
            <div class="slide-content">
                <h2>🔧 Preprocessing Pipeline</h2>
                
                <div class="preprocessing-flow">
                    <div class="process-step">
                        <h4>🔍 Missing Data</h4>
                        <p>Drop or impute missing values; use geographical interpolation for grid gaps</p>
                    </div>
                    <div class="process-step">
                        <h4>⚙️ Feature Engineering</h4>
                        <p>Encode categorical variables; aggregate emissions; create interaction terms; apply PCA</p>
                    </div>
                    <div class="process-step">
                        <h4>📏 Scaling</h4>
                        <p>Min-Max for KNN, Standard for regression, Robust for outliers</p>
                    </div>
                    <div class="process-step">
                        <h4>🎯 Partitioning</h4>
                        <p>Train/test split or K-Fold CV; geographical CV for geospatial models</p>
                    </div>
                </div>

                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Processing Step</th>
                            <th>Method</th>
                            <th>Purpose</th>
                            <th>Reference</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Missing Data Handling</td>
                            <td>Geographical interpolation</td>
                            <td>Fill sensor gaps in grid data</td>
                            <td>Myers, D. (1994)</td>
                        </tr>
                        <tr>
                            <td>Feature Engineering</td>
                            <td>PCA, categorical encoding</td>
                            <td>Dimensionality reduction, variable encoding</td>
                            <td>Dong et al. (2018)</td>
                        </tr>
                        <tr>
                            <td>Outlier Detection</td>
                            <td>Robust scaling methods</td>
                            <td>Handle extreme emission values</td>
                            <td>Tabatabaei et al. (2021)</td>
                        </tr>
                        <tr>
                            <td>Geographical Validation</td>
                            <td>Geographical cross-validation</td>
                            <td>Evaluate geospatial model performance</td>
                            <td>Wang et al. (2023)</td>
                        </tr>
                    </tbody>
                </table>

                <div class="insights-grid">
                    <div class="insight-card">
                        <h4>🎛️ Algorithm-Specific Scaling</h4>
                        <p>Different algorithms require different preprocessing: Min-Max scaling for KNN distance calculations, StandardScaler for regression coefficients, and Robust scaling for outlier-resistant modeling.</p>
                    </div>
                    <div class="insight-card">
                        <h4>🗺️ Geographical Considerations</h4>
                        <p>Geospatial models require specialized cross-validation to account for geographical autocorrelation, ensuring model performance reflects real-world geographic patterns.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 6: Vehicle Type Emissions -->
        <div class="slide">
            <div class="slide-content">
                <h2>🚗 Vehicle Type Emission Profiles</h2>
                
                <div class="chart-container large">
                    <canvas id="vehicleEmissionsChart"></canvas>
                </div>

                <div class="insights-grid">
                    <div class="insight-card">
                        <h4>🚙 Passenger Cars Dominance</h4>
                        <p>Passenger cars (petrol and diesel combined) represent the largest emission source, with petrol cars showing significantly higher individual contribution than diesel variants in the London road network.</p>
                    </div>
                    <div class="insight-card">
                        <h4>🚚 Commercial Vehicle Impact</h4>
                        <p>Light Goods Vehicles (LGV) and Heavy Goods Vehicles (HGV) show moderate contributions, particularly diesel variants which dominate commercial transport emissions across London.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 7: Chapter 3 - Machine Learning Models Introduction -->
        <div class="slide">
            <div class="slide-content">
                <h2>🤖 Chapter 3: Machine Learning Model Development</h2>
                
                <div class="data-summary">
                    <h4>🎯 Three-Model Approach</h4>
                    <p>Development and implementation of three machine learning approaches for NOx, PM10, PM2.5 and CO2 emission prediction: Ridge/Linear Regression, Random Forest, and K-means Clustering.</p>
                </div>

                <div class="insights-grid">
                    <div class="insight-card">
                        <h4>📈 Ridge/Linear Regression</h4>
                        <p>Chosen to predict emission values accurately and prevent coefficient instability. Creates baseline model to understand which vehicle types contribute most to emissions.</p>
                    </div>
                    <div class="insight-card">
                        <h4>🌳 Random Forest</h4>
                        <p>Selected to identify complex relations between vehicle types and emissions by spotting non-linear relationships. Provides interpretable results with natural model validation.</p>
                    </div>
                    <div class="insight-card">
                        <h4>🗺️ K-means Clustering</h4>
                        <p>Used to find natural patterns in London's air pollution data, sorting road segments into groups based on emissions and traffic patterns for localised impact analysis.</p>
                    </div>
                </div>

                <p style="font-size: 1.1rem; color: #666; margin-top: 20px; text-align: center;">
                    Each model addresses different aspects of emission prediction: precision, relationships, and geographical patterns.
                </p>
            </div>
        </div>

        <!-- Slide 8: Ridge Regression Results -->
        <div class="slide">
            <div class="slide-content">
                <h2>📈 Ridge Regression: Exceptional Accuracy</h2>
                
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value">99.99%</div>
                        <div class="metric-label">R-squared Accuracy</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">0.000472</div>
                        <div class="metric-label">Mean Absolute Error</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">0.000973</div>
                        <div class="metric-label">Root Mean Squared Error</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">143,976</div>
                        <div class="metric-label">Observations Analysed</div>
                    </div>
                </div>

                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Pollutant</th>
                            <th>R-squared</th>
                            <th>MAE</th>
                            <th>RMSE</th>
                            <th>Performance</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>NOx</td>
                            <td><span class="result-excellent">0.9999</span></td>
                            <td>0.000472</td>
                            <td>0.000973</td>
                            <td><span class="result-excellent">Strong linear relationship</span></td>
                        </tr>
                        <tr>
                            <td>PM₁₀</td>
                            <td><span class="result-excellent">0.9999</span></td>
                            <td>0.000114</td>
                            <td>0.000178</td>
                            <td><span class="result-excellent">High accuracy</span></td>
                        </tr>
                        <tr>
                            <td>PM₂.₅</td>
                            <td><span class="result-excellent">0.9999</span></td>
                            <td>0.00057</td>
                            <td>0.000088</td>
                            <td><span class="result-excellent">High accuracy</span></td>
                        </tr>
                        <tr>
                            <td>CO₂ (Predicted from NOx)</td>
                            <td><span class="result-excellent">0.9957</span></td>
                            <td>0.0063850</td>
                            <td>0.00124192</td>
                            <td><span class="result-excellent">Good linear relationship</span></td>
                        </tr>
                    </tbody>
                </table>

                <p>RidgeCV with 5-fold cross-validation and StandardScaler preprocessing achieved perfect linear relationship identification for particulate emissions using L2 regularisation.</p>
            </div>
        </div>

        <!-- Slide 9: Ridge Regression Feature Analysis -->
        <div class="slide">
            <div class="slide-content">
                <h2>🔍 Ridge Regression: Feature Coefficients Analysis</h2>
                
                <table class="feature-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Vehicle Category</th>
                            <th>Coefficient</th>
                            <th>Contribution %</th>
                            <th>Impact Level</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>Road-Car-Petrol</td>
                            <td>0.155536</td>
                            <td><span class="result-excellent">15.55%</span></td>
                            <td>Primary emission source</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>Road-Car-Diesel</td>
                            <td>0.145751</td>
                            <td><span class="result-excellent">14.58%</span></td>
                            <td>Significant impact</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>Road-Car-Diesel_cs</td>
                            <td>0.092329</td>
                            <td><span class="result-good">9.23%</span></td>
                            <td>Cold start emissions</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>Road-LGV-Diesel_cs</td>
                            <td>0.091683</td>
                            <td><span class="result-good">9.17%</span></td>
                            <td>Commercial cold start</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>Road-LGV-Diesel</td>
                            <td>0.072324</td>
                            <td><span class="result-good">7.23%</span></td>
                            <td>Light goods vehicles</td>
                        </tr>
                    </tbody>
                </table>

                <div class="chart-container">
                    <canvas id="ridgeFeatureChart"></canvas>
                </div>

                <div class="insights-grid">
                    <div class="insight-card">
                        <h4>🚗 Passenger Car Impact</h4>
                        <p>Combined petrol and diesel cars account for <span class="result-poor">30.13%</span> of total NOx emissions, making them the dominant emission source for policy intervention targeting.</p>
                    </div>
                    <div class="insight-card">
                        <h4>❄️ Cold Start Significance</h4>
                        <p>Cold start emissions contribute <span class="result-moderate">18.40%</span> combined impact from diesel cars and LGVs, highlighting engine warm-up inefficiencies across vehicle types.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 10: Random Forest Results -->
        <div class="slide">
            <div class="slide-content">
                <h2>🌳 Random Forest: Complex Pattern Recognition</h2>
                
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value">98.83%</div>
                        <div class="metric-label">Excellent R-squared</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">0.0153</div>
                        <div class="metric-label">Mean Absolute Error</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">50</div>
                        <div class="metric-label">Decision Trees</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">80/20</div>
                        <div class="metric-label">Train/Test Split</div>
                    </div>
                </div>

                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Model Variant</th>
                            <th>R-squared</th>
                            <th>MAE</th>
                            <th>Performance</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Random Forest (Baseline)</td>
                            <td><span class="result-excellent">0.988344</span></td>
                            <td>0.01533</td>
                            <td><span class="result-excellent">Excellent predictive capability</span></td>
                        </tr>
                        <tr>
                            <td>Random Forest (With Link_Length_m)</td>
                            <td><span class="result-excellent">0.9589</span></td>
                            <td>0.0336</td>
                            <td><span class="result-excellent">With critical variable</span></td>
                        </tr>
                        <tr>
                            <td>Random Forest (Without Link_Length_m)</td>
                            <td><span class="result-moderate">0.4099</span></td>
                            <td>0.1763</td>
                            <td><span class="result-moderate">Without critical variable</span></td>
                        </tr>
                        <tr>
                            <td>Random Forest (Predict CO2 from NOx)</td>
                            <td><span class="result-excellent">0.9956</span></td>
                            <td>0.004625</td>
                            <td><span class="result-excellent">Cross-pollutant prediction</span></td>
                        </tr>
                    </tbody>
                </table>

                <p>The Link_Length_m variable demonstrates critical importance in model performance, showing the significance of road segment characteristics in emission prediction across London.</p>
            </div>
        </div>

        <!-- Slide 11: Random Forest Feature Importance -->
        <div class="slide">
            <div class="slide-content">
                <h2>📊 Random Forest: Feature Importance Rankings</h2>
                
                <div class="chart-container large">
                    <canvas id="forestImportanceChart"></canvas>
                </div>

                <table class="feature-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Vehicle Category</th>
                            <th>Importance Score</th>
                            <th>Percentage</th>
                            <th>Classification</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>Road-Car-Petrol</td>
                            <td>0.683121</td>
                            <td><span class="result-excellent">68.31%</span></td>
                            <td>Highest-Primary target</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>Road-Car-Diesel</td>
                            <td>0.189644</td>
                            <td><span class="result-excellent">18.96%</span></td>
                            <td>High-Secondary target</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>Road-LGV-Diesel</td>
                            <td>0.021841</td>
                            <td><span class="result-moderate">2.18%</span></td>
                            <td>Medium</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>Road-Car-Diesel_cs</td>
                            <td>0.020440</td>
                            <td><span class="result-moderate">2.04%</span></td>
                            <td>Medium</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>Road-HGV-Rigid</td>
                            <td>0.020077</td>
                            <td><span class="result-moderate">2.01%</span></td>
                            <td>Low</td>
                        </tr>
                    </tbody>
                </table>

                <div class="insights-grid">
                    <div class="insight-card">
                        <h4>🚗 Passenger Car Dominance</h4>
                        <p>Passenger cars represent <span class="result-poor">87.27%</span> of emission importance (68.31% + 18.96%), demonstrating clear policy intervention targets for maximum environmental impact.</p>
                    </div>
                    <div class="insight-card">
                        <h4>🚚 Commercial Vehicle Contribution</h4>
                        <p>Light and Heavy Goods Vehicles combined account for only <span class="result-excellent">4.19%</span> of feature importance, despite their significant presence in London traffic patterns.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 12: Borough Rankings (Moved to position 12) -->
        <div class="slide">
            <div class="slide-content">
                <h2>🏙️ London Borough Emission Rankings</h2>
                
                <div class="chart-container large">
                    <canvas id="boroughRankingsChart"></canvas>
                </div>

                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Borough</th>
                            <th>NOx (tonnes)</th>
                            <th>PM₁₀ (tonnes)</th>
                            <th>PM₂.₅ (tonnes)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1</td>
                            <td>Bexley</td>
                            <td><span class="result-poor">1,973.17</span></td>
                            <td>263.10</td>
                            <td>126.83</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>Barnet</td>
                            <td>1,450.55</td>
                            <td><span class="result-poor">323.90</span></td>
                            <td><span class="result-poor">146.78</span></td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>Bromley</td>
                            <td>1,038.36</td>
                            <td>246.82</td>
                            <td>131.07</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>Brent</td>
                            <td>986.18</td>
                            <td>270.62</td>
                            <td>112.13</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>Barking and Dagenham</td>
                            <td>746.35</td>
                            <td>204.87</td>
                            <td>89.14</td>
                        </tr>
                    </tbody>
                </table>

                <div class="insights-grid">
                    <div class="insight-card">
                        <h4>🥇 Borough Leadership</h4>
                        <p>Bexley leads in NOx emissions (1,973 tonnes), whilst Barnet dominates PM₁₀ (324 tonnes) and PM₂.₅ (147 tonnes) emissions, indicating different pollution source patterns across boroughs.</p>
                    </div>
                    <div class="insight-card">
                        <h4>📊 Random Forest Insights</h4>
                        <p>The Random Forest model identifies these top 5 boroughs as priority areas for emission reduction strategies and targeted environmental policy interventions.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 13: K-means Clustering Results (Moved to position 13) -->
        <div class="slide">
            <div class="slide-content">
                <h2>🗺️ K-means Clustering: Geographical Emission Patterns</h2>
                
                <div class="cluster-grid">
                    <div class="cluster-card cluster-high">
                        <h4>🔴 High Emission Cluster</h4>
                        <div class="metric-value">43.3%</div>
                        <div class="metric-label">34,414 road segments</div>
                        <p style="margin-top: 15px;"><strong>High NOx, High Traffic</strong></p>
                    </div>
                    <div class="cluster-card cluster-medium">
                        <h4>🟡 Medium Emission Cluster</h4>
                        <div class="metric-value">46.6%</div>
                        <div class="metric-label">37,020 road segments</div>
                        <p style="margin-top: 15px;"><strong>Medium NOx, Medium Traffic</strong></p>
                    </div>
                    <div class="cluster-card cluster-low">
                        <h4>🟢 Low Emission Cluster</h4>
                        <div class="metric-value">10.0%</div>
                        <div class="metric-label">7,954 road segments</div>
                        <p style="margin-top: 15px;"><strong>Low NOx, Low Traffic</strong></p>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="clusterDistributionChart"></canvas>
                </div>

                <div class="insights-grid">
                    <div class="insight-card">
                        <h4>📈 Emission Hotspot Identification</h4>
                        <p>43.3% of London roads generate the highest emissions, providing clear targets for clean air zone implementation and traffic management interventions across geographical areas.</p>
                    </div>
                    <div class="insight-card">
                        <h4>🎯 Preprocessing Pipeline</h4>
                        <p>Log transformation (np.log1p), StandardScaler normalisation, and K-means clustering (n_clusters=3) enabled robust pattern identification across 79,388 road segments.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 14: Model Comparison -->
        <div class="slide">
            <div class="slide-content">
                <h2>⚖️ Comprehensive Model Performance Comparison</h2>
                
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Model</th>
                            <th>Primary Application</th>
                            <th>Key Performance Metric</th>
                            <th>Performance Value</th>
                            <th>Strength</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Ridge/Linear Regression</strong></td>
                            <td>Precise emission prediction</td>
                            <td>R-squared</td>
                            <td><span class="result-excellent">99.99%</span></td>
                            <td>High accuracy, linear relationships</td>
                        </tr>
                        <tr>
                            <td><strong>Random Forest</strong></td>
                            <td>Feature importance analysis</td>
                            <td>R-squared</td>
                            <td><span class="result-excellent">98.83%</span></td>
                            <td>Excellent accuracy, complex patterns</td>
                        </tr>
                        <tr>
                            <td><strong>K-means Clustering</strong></td>
                            <td>Pattern discovery</td>
                            <td>Cluster identification</td>
                            <td><span class="result-excellent">3 distinct road clusters</span></td>
                            <td>Geographical pattern discovery</td>
                        </tr>
                    </tbody>
                </table>

                <div class="chart-container">
                    <canvas id="performanceComparisonChart"></canvas>
                </div>

                <div class="insights-grid">
                    <div class="insight-card">
                        <h4>🎯 Complementary Strengths</h4>
                        <p>Ridge Regression excels at numerical predictions, Random Forest reveals feature importance relationships, and K-means identifies geographical patterns not visible to supervised methods.</p>
                    </div>
                    <div class="insight-card">
                        <h4>⚠️ Overfitting Analysis</h4>
                        <p>Ridge (Low risk - L2 regularisation), Random Forest (Medium risk - 50 trees with validation), K-means (Very low - unsupervised pattern discovery).</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 15: Key Research Findings -->
        <div class="slide">
            <div class="slide-content">
                <h2>🔬 Key Research Findings</h2>
                
                <div class="insights-grid">
                    <div class="insight-card">
                        <h4>🎯 Model Accuracy Achievement</h4>
                        <p>Ridge Regression achieved <span class="result-excellent">99.99% accuracy</span> for NOx emission prediction with exceptional precision across 143,976 observations using L2 regularisation.</p>
                    </div>
                    <div class="insight-card">
                        <h4>🚗 Passenger Car Dominance</h4>
                        <p>Passenger cars identified as <span class="result-excellent">primary emission driver</span> with 87.27% importance in Random Forest and 30.13% coefficient weight in Ridge analysis.</p>
                    </div>
                    <div class="insight-card">
                        <h4>📍 Geographical Distribution Pattern</h4>
                        <p>43.3% of London roads in high emission cluster, with 89.9% of roads in high/medium clusters, revealing clear geographical clustering for targeted interventions.</p>
                    </div>
                    <div class="insight-card">
                        <h4>⛽ Fuel Type Significance</h4>
                        <p>Diesel vehicles show <span class="result-moderate">consistently higher coefficients</span> across vehicle types, with cold start effects contributing 18.40% combined impact.</p>
                    </div>
                    <div class="insight-card">
                        <h4>🔧 Method Complementarity</h4>
                        <p>Three ML approaches provide <span class="result-excellent">different insights</span>: Ridge for precision (99.99% R²), Random Forest for relationships (98.83% R²), K-means for geography.</p>
                    </div>
                    <div class="insight-card">
                        <h4>🏙️ Borough Variation</h4>
                        <p>Significant variation across boroughs with <span class="result-good">Bexley leading NOx</span> (1,973 tonnes) and <span class="result-good">Barnet leading PM₁₀</span> (324 tonnes) emissions.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Slide 16: Conclusion -->
        <div class="slide">
            <div class="slide-content">
                <h1>🎯 Research Conclusions</h1>
                <h3>Machine Learning Successfully Models London's Emission Patterns</h3>
                
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-value">99.99%</div>
                        <div class="metric-label">Ridge Regression Accuracy</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">3</div>
                        <div class="metric-label">Validated ML Approaches</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">143K</div>
                        <div class="metric-label">Observations Analysed</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">87.27%</div>
                        <div class="metric-label">Passenger Car Impact</div>
                    </div>
                </div>

                <div class="insights-grid">
                    <div class="insight-card">
                        <h4>📈 Technical Achievement</h4>
                        <p>Ridge Regression demonstrates <span class="result-excellent">perfect linear relationships</span> between vehicle type and emissions with exceptional sub-unit accuracy and L2 regularisation.</p>
                    </div>
                    <div class="insight-card">
                        <h4>🎯 Primary Emission Source</h4>
                        <p>Random Forest reveals <span class="result-excellent">passenger car dominance</span> at 87.27% importance, providing clear intervention targets for environmental policymakers.</p>
                    </div>
                    <div class="insight-card">
                        <h4>🗺️ Geographical Pattern Discovery</h4>
                        <p>K-means clustering identifies <span class="result-excellent">distinct geographical zones</span> with 43.3% of roads in high emission cluster, enabling targeted policy interventions.</p>
                    </div>
                </div>

                <p style="font-size: 1.4rem; margin-top: 30px; color: #2c3e50; text-align: center;">
                    <strong>The London Atmospheric Emissions Inventory 2019 is an immensely valuable but complex dataset.<br>
                    A tiered approach leveraging Ridge Regression, Random Forest, and K-means Clustering<br>
                    navigates the challenges of multicollinearity and non-linearity effectively.</strong>
                </p>
            </div>
        </div>

        <!-- Slide 17: References -->
        <div class="slide">
            <div class="slide-content">
                <h2>📚 References</h2>
                <div class="references-list">
                    <p>Dong, g & Liu, H. (2018). Feature Engineering for Machine Learning and Data Analytics. Florida: CRC Press. pp.55 - 67.</p>
                    
                    <p>He, Z. et al. (2023) "Integration of shapley additive explanations with random forest model for quantitative precipitation estimation of mesoscale convective systems," Frontiers in environmental science, 10. Available at: https://doi.org/10.3389/fenvs.2022.1057081.</p>
                    
                    <p>Inglis, A. Parnell, A & Hurley, C. (2022). Visualizing Variable Importance and Variable Interaction Effects in Machine Learning Models. Journal of Computational and Graphical Statistics. 31(3), pp.766 - 778.</p>
                    
                    <p>Kanevski, M. Timonin, V & Pozdnukhov, A. (2009). Machine Learning for Geographical Environmental Data: Theory, Applications and Software. Lausanne: EPFL Press. pp.1 - 30.</p>
                    
                    <p>Montgomery, D. Peck, E & Vining, G. (2021). Introduction to Linear Regression Analysis. 6th ed. New York City: John Wiley & Sons. pp.1 - 11.</p>
                    
                    <p>Myers, D. (1994). Geographical interpolation: an overview. Geoderma. 62(1 - 3), pp.17 - 28.</p>
                    
                    <p>Palei, S. Lenka, R. Jain, P & Saxena, S. (2025). Artificial Intelligence in e-Health Framework. AI, Classification, Wearable Devices, and Computer-Aided Diagnosis. 1(1), pp.23 - 62.</p>
                    
                    <p>Reichstein, M., Camps-Valls, G., Stevens, B. et al. (2019). Deep learning and process understanding for data-driven Earth system science. Nature, 566, 195–204.</p>
                    
                    <p>Tabatabaei, M. Kimiaefar, R. Hajian, A & Akbari, A. (2021). Robust outlier detection in geo-geographical data based on LOLIMOT and KNN search. Earth Science Informatics. 14 (1), pp.1065 - 1072.</p>
                    
                    <p>Wang, Y. Khodadadzadeh, M & Zurita-Milla, R. (2023). Geographical+: A new cross-validation method to evaluate geospatial machine learning models. International Journal of Applied Earth Observation and Geoinformation. 121 (1), pp.1 - 9.</p>
                    
                    <p>Wena, Y. Wua, R. Zhouc, Z. Zhanga, S. Yanga, S. Wallingtond, T. Shene, W. Tanc, Q. Dengc, Y & Wua, Y. (2022). A data-driven method of traffic emissions mapping with land use random forest models. Applied Energy. 305 (1), pp.1 - 10.</p>
                    
                    <p>Wheeler, D. (2019). Handbook of Regional Science - Geographically Weighted Regression. Berlin: Springer. pp.1 - 27.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation Controls -->
    <div class="nav-controls">
        <button class="nav-btn" id="prevBtn" onclick="changeSlide(-1)">← Previous</button>
        
        <div class="slide-indicators">
            <div class="indicator active" onclick="goToSlide(0)"></div>
            <div class="indicator" onclick="goToSlide(1)"></div>
            <div class="indicator" onclick="goToSlide(2)"></div>
            <div class="indicator" onclick="goToSlide(3)"></div>
            <div class="indicator" onclick="goToSlide(4)"></div>
            <div class="indicator" onclick="goToSlide(5)"></div>
            <div class="indicator" onclick="goToSlide(6)"></div>
            <div class="indicator" onclick="goToSlide(7)"></div>
            <div class="indicator" onclick="goToSlide(8)"></div>
            <div class="indicator" onclick="goToSlide(9)"></div>
            <div class="indicator" onclick="goToSlide(10)"></div>
            <div class="indicator" onclick="goToSlide(11)"></div>
            <div class="indicator" onclick="goToSlide(12)"></div>
            <div class="indicator" onclick="goToSlide(13)"></div>
            <div class="indicator" onclick="goToSlide(14)"></div>
            <div class="indicator" onclick="goToSlide(15)"></div>
        </div>
        
        <button class="nav-btn" id="nextBtn" onclick="changeSlide(1)">Next →</button>
    </div>

    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
        const indicators = document.querySelectorAll('.indicator');

        // Update slide number display
        document.getElementById('total-slides').textContent = totalSlides;

        function updateSlide() {
            slides.forEach((slide, index) => {
                slide.classList.remove('active', 'prev');
                if (index === currentSlide) {
                    slide.classList.add('active');
                } else if (index < currentSlide) {
                    slide.classList.add('prev');
                }
            });

            indicators.forEach((indicator, index) => {
                indicator.classList.toggle('active', index === currentSlide);
            });

            document.getElementById('current-slide').textContent = currentSlide + 1;
            
            // Update navigation buttons
            document.getElementById('prevBtn').disabled = currentSlide === 0;
            document.getElementById('nextBtn').disabled = currentSlide === totalSlides - 1;

            // Initialize charts when they become visible
            setTimeout(() => {
                initChartsForSlide(currentSlide);
            }, 500);
        }

        function changeSlide(direction) {
            const newSlide = currentSlide + direction;
            if (newSlide >= 0 && newSlide < totalSlides) {
                currentSlide = newSlide;
                updateSlide();
            }
        }

        function goToSlide(slideIndex) {
            if (slideIndex >= 0 && slideIndex < totalSlides) {
                currentSlide = slideIndex;
                updateSlide();
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                e.preventDefault();
                changeSlide(1);
            } else if (e.key === 'ArrowLeft') {
                e.preventDefault();
                changeSlide(-1);
            }
        });

        // Chart configurations
        Chart.defaults.font.family = "'Segoe UI', sans-serif";
        Chart.defaults.color = '#2c3e50';

        let chartsInitialized = {};

        function initChartsForSlide(slideIndex) {
            // Vehicle Emissions Chart (Slide 6)
            if (slideIndex === 5 && !chartsInitialized.vehicleEmissions) {
                const vehicleCtx = document.getElementById('vehicleEmissionsChart').getContext('2d');
                new Chart(vehicleCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Car-Petrol', 'Car-Diesel', 'HGV-Diesel', 'LGV-Diesel', 'Bus-Diesel', 'PHV-Diesel', 'Motorcycle'],
                        datasets: [{
                            label: 'Total Emissions (×10⁶)',
                            data: [4.2, 2.1, 1.3, 1.0, 0.9, 0.2, 0.1],
                            backgroundColor: [
                                '#3498db',
                                '#e74c3c',
                                '#f39c12',
                                '#9b59b6',
                                '#1abc9c',
                                '#34495e',
                                '#95a5a6'
                            ],
                            borderRadius: 8,
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Vehicle Type Emissions Contribution (2019)',
                                font: { size: 16, weight: 'bold' }
                            },
                            legend: { display: false }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: { display: true, text: 'Total Emissions (×10⁶)' }
                            }
                        }
                    }
                });
                chartsInitialized.vehicleEmissions = true;
            }

            // Ridge Regression Chart (Slide 9)
            if (slideIndex === 8 && !chartsInitialized.ridge) {
                const ridgeCtx = document.getElementById('ridgeFeatureChart').getContext('2d');
                new Chart(ridgeCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Car-Petrol', 'Car-Diesel', 'Car-Diesel (CS)', 'LGV-Diesel (CS)', 'LGV-Diesel'],
                        datasets: [{
                            label: 'Coefficient Value (%)',
                            data: [15.55, 14.58, 9.23, 9.17, 7.23],
                            backgroundColor: [
                                '#3498db',
                                '#e74c3c',
                                '#f39c12',
                                '#9b59b6',
                                '#1abc9c'
                            ],
                            borderRadius: 8,
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Top 5 Vehicle Categories - NOx Emission Coefficients',
                                font: { size: 16, weight: 'bold' }
                            },
                            legend: { display: false }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: { display: true, text: 'Contribution (%)' }
                            }
                        }
                    }
                });
                chartsInitialized.ridge = true;
            }

            // Random Forest Chart (Slide 11)
            if (slideIndex === 10 && !chartsInitialized.forest) {
                const forestCtx = document.getElementById('forestImportanceChart').getContext('2d');
                new Chart(forestCtx, {
                    type: 'doughnut',
                    data: {
                        labels: ['Car-Petrol', 'Car-Diesel', 'LGV-Diesel', 'Car-Diesel (CS)', 'HGV-Rigid', 'Others'],
                        datasets: [{
                            data: [68.31, 18.96, 2.18, 2.04, 2.01, 6.5],
                            backgroundColor: [
                                '#e74c3c',
                                '#f39c12',
                                '#9b59b6',
                                '#3498db',
                                '#1abc9c',
                                '#95a5a6'
                            ],
                            borderWidth: 3,
                            borderColor: '#fff'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Random Forest Feature Importance Distribution',
                                font: { size: 14, weight: 'bold' }
                            },
                            legend: { 
                                position: 'right',
                                labels: { font: { size: 11 } }
                            }
                        }
                    }
                });
                chartsInitialized.forest = true;
            }

            // Borough Rankings Chart (Slide 12)
            if (slideIndex === 11 && !chartsInitialized.borough) {
                const boroughCtx = document.getElementById('boroughRankingsChart').getContext('2d');
                new Chart(boroughCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Bexley', 'Barnet', 'Bromley', 'Brent', 'Barking & Dagenham'],
                        datasets: [{
                            label: 'NOx (tonnes)',
                            data: [1973.17, 1450.55, 1038.36, 986.18, 746.35],
                            backgroundColor: '#e74c3c',
                            borderRadius: 8,
                        }, {
                            label: 'PM₁₀ (tonnes)',
                            data: [263.10, 323.90, 246.82, 270.62, 204.87],
                            backgroundColor: '#f39c12',
                            borderRadius: 8,
                        }, {
                            label: 'PM₂.₅ (tonnes)',
                            data: [126.83, 146.78, 131.07, 112.13, 89.14],
                            backgroundColor: '#3498db',
                            borderRadius: 8,
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Top 5 London Boroughs - Emission Rankings',
                                font: { size: 14, weight: 'bold' }
                            },
                            legend: { 
                                labels: { font: { size: 11 } }
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                title: { 
                                    display: true, 
                                    text: 'Emissions (tonnes)',
                                    font: { size: 11 }
                                },
                                ticks: { font: { size: 10 } }
                            },
                            x: {
                                ticks: { font: { size: 10 } }
                            }
                        }
                    }
                });
                chartsInitialized.borough = true;
            }

            // Cluster Distribution Chart (Slide 13)
            if (slideIndex === 12 && !chartsInitialized.cluster) {
                const clusterCtx = document.getElementById('clusterDistributionChart').getContext('2d');
                new Chart(clusterCtx, {
                    type: 'bar',
                    data: {
                        labels: ['High Emission\n(34,414 roads)', 'Medium Emission\n(37,020 roads)', 'Low Emission\n(7,954 roads)'],
                        datasets: [{
                            label: 'Percentage of London Roads',
                            data: [43.3, 46.6, 10.0],
                            backgroundColor: ['#e74c3c', '#f39c12', '#27ae60'],
                            borderRadius: 8,
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'London Road Network - Emission Cluster Distribution',
                                font: { size: 14, weight: 'bold' }
                            },
                            legend: { display: false }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                max: 50,
                                title: { 
                                    display: true, 
                                    text: 'Percentage of Roads (%)',
                                    font: { size: 11 }
                                },
                                ticks: { font: { size: 10 } }
                            },
                            x: {
                                ticks: { font: { size: 9 } }
                            }
                        }
                    }
                });
                chartsInitialized.cluster = true;
            }

            // Performance Comparison Chart (Slide 14)
            if (slideIndex === 13 && !chartsInitialized.comparison) {
                const comparisonCtx = document.getElementById('performanceComparisonChart').getContext('2d');
                new Chart(comparisonCtx, {
                    type: 'radar',
                    data: {
                        labels: ['Accuracy', 'Interpretability', 'Complexity', 'Generalisation', 'Precision'],
                        datasets: [{
                            label: 'Ridge Regression',
                            data: [100, 85, 30, 95, 100],
                            backgroundColor: 'rgba(52, 152, 219, 0.2)',
                            borderColor: '#3498db',
                            borderWidth: 3,
                            pointBackgroundColor: '#3498db'
                        }, {
                            label: 'Random Forest',
                            data: [97, 95, 70, 85, 75],
                            backgroundColor: 'rgba(231, 76, 60, 0.2)',
                            borderColor: '#e74c3c',
                            borderWidth: 3,
                            pointBackgroundColor: '#e74c3c'
                        }, {
                            label: 'K-means Clustering',
                            data: [75, 90, 50, 90, 80],
                            backgroundColor: 'rgba(39, 174, 96, 0.2)',
                            borderColor: '#27ae60',
                            borderWidth: 3,
                            pointBackgroundColor: '#27ae60'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Model Performance Comparison (Relative Scores)',
                                font: { size: 16, weight: 'bold' }
                            }
                        },
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 100,
                                ticks: { stepSize: 20 }
                            }
                        }
                    }
                });
                chartsInitialized.comparison = true;
            }
        }

        // Initialize the presentation
        updateSlide();
    </script>
</body>
</html>
